<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Chatting Room</title>
    <meta name="author" content="xiekch">
    <link rel="stylesheet" href="/css/room.css">
    <script src="/js/jquery-3.3.1.js"></script>
    <script src="/js/sockjs-0.3.js"></script>
    <script src="/js/stomp.js"></script>
    <script src="/js/chattingWebSocket.js"></script>
</head>

<body>
    <div id="main">
        <header><a href="/rooms"><button id="back">Back to the index</button></a></header>

        <h1 th:text="${room.getName()}"></h1>
        <h2 th:text="'user: ' + ${userName}"></h2>
    </div>
    <div id="content">
        <div th:each="message: ${room.getMessage()}" th:class="${message.getuserName() == userName} ? 'sent' : 'received'">
            <div th:if="${message.getuserName() == userName}" class="sent" th:remove="tag" th:text="${message.getMessage()}"></div>
            <div th:if="${message.getuserName() != userName}" class="receivedUser" th:text="${message.getuserName()}"></div>
            <div th:if="${message.getuserName() != userName}" class="receivedMessage" th:text="${message.getMessage()}"></div>
        </div>
    </div>
    <!-- <form action="/websocket" method="POST">
    <input type="text"/>
    <input type="submit">
    </form> -->
    <input id="message" type="text" />
    <input id="submit" type="submit" value="发送">
</body>

</html>